![alt text](public/Group%2020.png)

## Aula 55 - Conhecendo server components

Server component é um componente react que executa completamente no lado do servidor, isso faz com que não inclua
javascript no lado do cliente aumentando a performance das nossas aplicações. No nextjs, todos os componentes são
server components por padrão, mas podemos alterar esse comportamente usando a diretiva `use client` no topo do arquivo.

No nextJs, se fizermos

```javascript
export default function Home() {
  return <div>Home</div>;
}
```

teremos um server component, e para mudar isso fazemos:

```javascript
"use client";

export default function Home() {
  return <div>Home</div>;
}
```

Agora temos um client component, onde podemos utilizar recursos como "useState", "useEffect" entre outros hooks do react.

Como mencionado acima, um server component renderiza toda informação da pagina no lado do servidor e só envia o HTML já preenchido para o client side. Para vermos melhor como isso é feito, veja o código abaixo.

```javascript
// app/page.tsx (Server Component)
async function Page() {
  const res = await fetch("https://jsonplaceholder.typicode.com/posts/1");
  const post = await res.json();

  return (
    <div>
      <h1>{post.title}</h1>
      <p>{post.body}</p>
    </div>
  );
}

export default Page;
```

O método de requisição assincrona fetch é executado no lado do servidor, quando recebe os dados, preenche o componente com as informações correspondentes e envia esse componente para ser renderizado no lado do cliente.

## Aula 56 - Revendo componentes

Nessa aula visualizamos a diferença entre um componente react que executa no lado do client e um componente react que executa no lado do servidor, e o ponto principal entre eles é que caso tenhamos uma API lenta, a pagina do client é mostrada parcialmente sem os dados inseridos, uma vez que não foram retornados pela requisição. Já no caso do server component a página como um todo demora um pouco para ser carregada, mas todo o conteudo da pagina é mostrado de uma unica vez.

## Aula 57 - Conhecendo loading

Para o caso de termos uma api lenta, podemos utilizar o recurso de loading disponivel dentro do nextJs. Esse recurso é muito util para o caso de termos uma API que demora para retornar os dados, e como no nextJS a pagina não é mostrada até os dados sejam retornados pela API, temos um carregamento da pagina sem nada ser mostrado. Para evitar isso poodemos criar um loading para indicar para os usuário que os dados ainda estão sendo carregado.

Dentro do componente server no qual voce pretende adicionar um laoding, crie um arquivo chamado:

    loading.tsx

dentro desse arquivo, devemos, obrigatóriamente, criar um componente com o nome `Loading`

```javascript
export default function Loading() {
  return (
    <div>
      <h1>Carregando...</h1>
    </div>
  );
}
```

Agora quando a API demorar responder com os dados, será mostrado "Carregando..." na página ao invés da página ficar carregando e esperando a resposta da API. Importante destacar aqui é que, para adicionar loading em outros server components, fazemos o processo mostrado acima, porém criamos o arquivo loading no mesmo diretório do arquivo `pages.tsx`.

Nesta aula ainda vimos como usar o sistema de **layout** do next, que é um tipo especial de server component, uma vez que é compartilhado entre as páginas da aplicação sendo visivel atrás da nevegação entre as páginas. É usado normalmente para criar headers, navbars, sidebars, footers, que são os elementos que normalmente permanecem o mesmo em todas as rotas da aplicação sem que precise de re-renderização. **Layouts** são colocados dentro do arquivo `layout.tsx`

```javascript
import type { Metadata } from "next";
import "./globals.css";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode,
}>) {
  return (
    <html lang="pt-BR">
      <body>
        -> Layouts components vão dentro da tag body
        {children}
      </body>
    </html>
  );
}
```

O **Metadata** dentro do componente é onde adicionamos metadados do nosso projeto que serão responsáveis por auxiliar os motores de busca do google e encontrar e recomendar nosso site.

### Criando menu como layout

Na pasta `src` crie a pasta `components` e dentro dela o arquivo, Navbar.jsx.

```javascript
import Link from "next/link";

export default function Navbar() {
  return (
    <header>
      <nav>
        <Link href={"/"}>Home</Link>
        <Link href={"/contato"}>Contato</Link>
      </nav>
    </header>
  );
}
```

Dentro do layout vamos importar o componente.

```javascript
import type { Metadata } from "next";
import "./globals.css";

import Navbar from "@/components/Navbar";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode,
}>) {
  return (
    <html lang="pt-BR">
      <Navbar />
      <body>{children}</body>
    </html>
  );
}
```

no exemplo acima, veremos os links em todas as rotas da aplicação.

## Aula 58 - Evoluindo com layouts

Nesta aula aprendemos como podemos criar layouts aninhados dentro de páginas. Por exemplo, caso tenhamos uma rota

    /dashboard

no nosso projeto, podemos criar estruturas que serão compartilhadas entre essa rota e rotas aninhadas a ela. Vejamos um exemplo para simplificar as coisas. Suponha que tenhamos a rota mencionada acima e detro da pasta `dashboard`, criamos outra pasta com nome `settings`. Na pratica o que estamos fazendo é criando uma rota aninhada que terá como endpoint a url:

    /dashboard/settings

Caso tenhamos adicinado um layout.tsx dentro da pasta dashboard, todo componente que adicionarmos dentro desse layout será compartilhado somente entre as rotas dashboard e suas paginas aninhadas. Veja o exemplo de layout.tsx criado dentro da pasta `dashboard` abaixo:

```javascript
export const metadata = {
  title: "Minha pagina dashboard",
  description: "Essa é a minha pagina de dashboard",
};

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode,
}) {
  return (
    <>
      <h3>Meu layout aninhado</h3>
      {children}
    </>
  );
}
```

## Aula 59 - Usando client components dentro de server components
